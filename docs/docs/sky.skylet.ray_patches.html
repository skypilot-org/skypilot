
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>sky.skylet.ray_patches package &#8212; Sky 0.1 documentation</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-book-theme.css?digest=84ace793992934648b4de8eed757e5a2" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.9d8b4a8b9bb19db25eeaddc40d639ba2.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<div class="col-12 col-md-3 bd-sidebar site-navigation " id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Sky 0.1 documentation</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Getting Started
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="getting-started/installation.html">
   Installation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="getting-started/quickstart.html">
   Quickstart
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="getting-started/tutorial.html">
   Tutorial: DNN Training
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Use Cases
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="examples/auto-failover.html">
   Auto-failover Provisioning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="examples/iterative-dev-project.html">
   Iteratively Developing a Project
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="examples/launch-many-tasks-vm.html">
   Launch Multiple Tasks on a VM
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="examples/grid-search.html">
   Grid Search
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="examples/distributed-jobs.html">
   Distributed Jobs on many VMs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://github.com/concretevitamin/sky-experiments/tree/master/prototype/examples">
   Additional Examples
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Reference Documentation
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="reference/interactive-nodes.html">
   Interactive Nodes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="reference/iterative-development.html">
   Iterative Development
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="reference/storage.html">
   Storage
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="reference/job-queue.html">
   Job Queue
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="reference/cli.html">
   CLI Reference
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Advanced Sky Tutorials
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="advanced/python-control.html">
   Python Control Flow
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
</div>

</div>


          


          
<!-- This is an invisible pixel that we watch to see if we've scrolled. -->
<div class="sbt-scroll-pixel-helper"></div>
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            <div class="topbar-left">
                
                <label class="nav-toggle-button" for="__navigation">
                    <div class="visually-hidden">Toggle navigation</div>
                    <i class="fas fa-bars"></i>
                </label>
                
            </div>
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/sky.skylet.ray_patches.rst.txt"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.rst</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#submodules">
   Submodules
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-sky.skylet.ray_patches.log_monitor">
   sky.skylet.ray_patches.log_monitor module
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-sky.skylet.ray_patches.worker">
   sky.skylet.ray_patches.worker module
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-sky.skylet.ray_patches">
   Module contents
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>sky.skylet.ray_patches package</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#submodules">
   Submodules
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-sky.skylet.ray_patches.log_monitor">
   sky.skylet.ray_patches.log_monitor module
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-sky.skylet.ray_patches.worker">
   sky.skylet.ray_patches.worker module
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-sky.skylet.ray_patches">
   Module contents
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="section" id="sky-skylet-ray-patches-package">
<h1>sky.skylet.ray_patches package<a class="headerlink" href="#sky-skylet-ray-patches-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-sky.skylet.ray_patches.log_monitor">
<span id="sky-skylet-ray-patches-log-monitor-module"></span><h2>sky.skylet.ray_patches.log_monitor module<a class="headerlink" href="#module-sky.skylet.ray_patches.log_monitor" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.log_monitor.LogFileInfo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sky.skylet.ray_patches.log_monitor.</span></span><span class="sig-name descname"><span class="pre">LogFileInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size_when_last_opened</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_position</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_handle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_err_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">job_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">worker_pid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/log_monitor.html#LogFileInfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.log_monitor.LogFileInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.log_monitor.LogMonitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sky.skylet.ray_patches.log_monitor.</span></span><span class="sig-name descname"><span class="pre">LogMonitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">logs_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">redis_address</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">redis_password</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/log_monitor.html#LogMonitor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.log_monitor.LogMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A monitor process for monitoring Ray log files.</p>
<p>This class mantains a list of open files and a list of closed log files. We
can’t simply leave all files open because we’ll run out of file
descriptors.</p>
<p>The “run” method of this class will cycle between doing several things:
1. First, it will check if any new files have appeared in the log</p>
<blockquote>
<div><p>directory. If so, they will be added to the list of closed files.</p>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>Then, if we are unable to open any new files, we will close all of the
files.</p></li>
<li><p>Then, we will open as many closed files as we can that may have new
lines (judged by an increase in file size since the last time the file
was opened).</p></li>
<li><p>Then we will loop through the open files and see if there are any new
lines in the file. If so, we will publish them to Redis.</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>host</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – The hostname of this machine. Used to improve the log
messages published to Redis.</p></li>
<li><p><strong>logs_dir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – The directory that the log files are in.</p></li>
<li><p><strong>redis_client</strong> – A client used to communicate with the Redis server.</p></li>
<li><p><strong>log_filenames</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.10)"><em>set</em></a>) – This is the set of filenames of all files in
open_file_infos and closed_file_infos.</p></li>
<li><p><strong>open_file_infos</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em>[</em><a class="reference internal" href="#sky.skylet.ray_patches.log_monitor.LogFileInfo" title="sky.skylet.ray_patches.log_monitor.LogFileInfo"><em>LogFileInfo</em></a><em>]</em>) – Info for all of the open files.</p></li>
<li><p><strong>closed_file_infos</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em>[</em><a class="reference internal" href="#sky.skylet.ray_patches.log_monitor.LogFileInfo" title="sky.skylet.ray_patches.log_monitor.LogFileInfo"><em>LogFileInfo</em></a><em>]</em>) – Info for all of the closed
files.</p></li>
<li><p><strong>can_open_more_files</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – True if we can still open more files and
false otherwise.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.log_monitor.LogMonitor.check_log_files_and_publish_updates">
<span class="sig-name descname"><span class="pre">check_log_files_and_publish_updates</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/log_monitor.html#LogMonitor.check_log_files_and_publish_updates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.log_monitor.LogMonitor.check_log_files_and_publish_updates" title="Permalink to this definition">¶</a></dt>
<dd><p>Get any changes to the log files and push updates to Redis.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if anything was published and false otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.log_monitor.LogMonitor.close_all_files">
<span class="sig-name descname"><span class="pre">close_all_files</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/log_monitor.html#LogMonitor.close_all_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.log_monitor.LogMonitor.close_all_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Close all open files (so that we can open more).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.log_monitor.LogMonitor.open_closed_files">
<span class="sig-name descname"><span class="pre">open_closed_files</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/log_monitor.html#LogMonitor.open_closed_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.log_monitor.LogMonitor.open_closed_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Open some closed files if they may have new lines.</p>
<p>Opening more files may require us to close some of the already open
files.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.log_monitor.LogMonitor.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/log_monitor.html#LogMonitor.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.log_monitor.LogMonitor.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the log monitor.</p>
<p>This will query Redis once every second to check if there are new log
files to monitor. It will also store those log files in Redis.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.log_monitor.LogMonitor.update_log_filenames">
<span class="sig-name descname"><span class="pre">update_log_filenames</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/log_monitor.html#LogMonitor.update_log_filenames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.log_monitor.LogMonitor.update_log_filenames" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the list of log files to monitor.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-sky.skylet.ray_patches.worker">
<span id="sky-skylet-ray-patches-worker-module"></span><h2>sky.skylet.ray_patches.worker module<a class="headerlink" href="#module-sky.skylet.ray_patches.worker" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.Worker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sky.skylet.ray_patches.worker.</span></span><span class="sig-name descname"><span class="pre">Worker</span></span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#Worker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.Worker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A class used to define the control flow of a worker process.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The methods in this class are considered unexposed to the user. The
functions outside of this class are considered exposed.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> (<em>ray.node.Node</em>) – The node this worker is attached to.</p></li>
<li><p><strong>mode</strong> – The mode of the worker. One of SCRIPT_MODE, LOCAL_MODE, and
WORKER_MODE.</p></li>
<li><p><strong>cached_functions_to_run</strong> (<em>List</em>) – A list of functions to run on all of
the workers that should be exported as soon as connect is called.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.Worker.actor_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">actor_id</span></span><a class="headerlink" href="#sky.skylet.ray_patches.worker.Worker.actor_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.Worker.check_connected">
<span class="sig-name descname"><span class="pre">check_connected</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#Worker.check_connected"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.Worker.check_connected" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the worker is connected.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><strong>Exception</strong></a> – An exception is raised if the worker is not connected.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.Worker.connected">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">connected</span></span><a class="headerlink" href="#sky.skylet.ray_patches.worker.Worker.connected" title="Permalink to this definition">¶</a></dt>
<dd><p>True if Ray has been started and False otherwise.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.Worker.current_job_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">current_job_id</span></span><a class="headerlink" href="#sky.skylet.ray_patches.worker.Worker.current_job_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.Worker.current_node_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">current_node_id</span></span><a class="headerlink" href="#sky.skylet.ray_patches.worker.Worker.current_node_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.Worker.current_session_and_job">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">current_session_and_job</span></span><a class="headerlink" href="#sky.skylet.ray_patches.worker.Worker.current_session_and_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current session index and job id as pair.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.Worker.current_task_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">current_task_id</span></span><a class="headerlink" href="#sky.skylet.ray_patches.worker.Worker.current_task_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.Worker.deserialize_objects">
<span class="sig-name descname"><span class="pre">deserialize_objects</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_metadata_pairs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">object_refs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#Worker.deserialize_objects"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.Worker.deserialize_objects" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.Worker.get_objects">
<span class="sig-name descname"><span class="pre">get_objects</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_refs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#Worker.get_objects"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.Worker.get_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the values in the object store associated with the IDs.</p>
<p>Return the values from the local object store for object_refs. This
will block until all the values for object_refs have been written to
the local object store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_refs</strong> (<em>List[object_ref.ObjectRef]</em>) – A list of the object refs
whose values should be retrieved.</p></li>
<li><p><strong>timeout</strong> (<em>float</em>) – timeout (float): The maximum amount of time in
seconds to wait before returning.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>List of deserialized objects
bytes: UUID of the debugger breakpoint we should drop</p>
<blockquote>
<div><p>into or b”” if there is no breakpoint.</p>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.Worker.get_serialization_context">
<span class="sig-name descname"><span class="pre">get_serialization_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">job_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#Worker.get_serialization_context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.Worker.get_serialization_context" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the SerializationContext of the job that this worker is processing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>job_id</strong> – The ID of the job that indicates which job to get
the serialization context for.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The serialization context of the given job.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.Worker.load_code_from_local">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load_code_from_local</span></span><a class="headerlink" href="#sky.skylet.ray_patches.worker.Worker.load_code_from_local" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.Worker.main_loop">
<span class="sig-name descname"><span class="pre">main_loop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#Worker.main_loop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.Worker.main_loop" title="Permalink to this definition">¶</a></dt>
<dd><p>The main loop a worker runs to receive and execute tasks.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.Worker.namespace">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">namespace</span></span><a class="headerlink" href="#sky.skylet.ray_patches.worker.Worker.namespace" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.Worker.node_ip_address">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">node_ip_address</span></span><a class="headerlink" href="#sky.skylet.ray_patches.worker.Worker.node_ip_address" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.Worker.placement_group_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">placement_group_id</span></span><a class="headerlink" href="#sky.skylet.ray_patches.worker.Worker.placement_group_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.Worker.print_logs">
<span class="sig-name descname"><span class="pre">print_logs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#Worker.print_logs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.Worker.print_logs" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints log messages from workers on all nodes in the same job.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.Worker.put_object">
<span class="sig-name descname"><span class="pre">put_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">object_ref</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">owner_address</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#Worker.put_object"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.Worker.put_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Put value in the local object store with object reference <cite>object_ref</cite>.</p>
<p>This assumes that the value for <cite>object_ref</cite> has not yet been placed in
the local object store. If the plasma store is full, the worker will
automatically retry up to DEFAULT_PUT_OBJECT_RETRIES times. Each
retry will delay for an exponentially doubling amount of time,
starting with DEFAULT_PUT_OBJECT_DELAY. After this, exception
will be raised.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> – The value to put in the object store.</p></li>
<li><p><strong>object_ref</strong> (<em>ObjectRef</em>) – The object ref of the value to be
put. If None, one will be generated.</p></li>
<li><p><strong>owner_address</strong> – The serialized address of object’s owner.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The object ref the object was put under.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ObjectRef</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ray.exceptions.ObjectStoreFullError</strong> – This is raised if the attempt
    to store the object fails because the object store is full even
    after multiple retries.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.Worker.raise_errors">
<span class="sig-name descname"><span class="pre">raise_errors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_metadata_pairs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">object_refs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#Worker.raise_errors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.Worker.raise_errors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.Worker.run_function_on_all_workers">
<span class="sig-name descname"><span class="pre">run_function_on_all_workers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#Worker.run_function_on_all_workers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.Worker.run_function_on_all_workers" title="Permalink to this definition">¶</a></dt>
<dd><p>Run arbitrary code on all of the workers.</p>
<p>This function will first be run on the driver, and then it will be
exported to all of the workers to be run. It will also be run on any
new workers that register later. If ray.init has not been called yet,
then cache the function and export it later.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>function</strong> (<em>Callable</em>) – The function to run on all of the workers. It
takes only one argument, a worker info dict. If it returns
anything, its return values will not be used.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.Worker.runtime_env">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">runtime_env</span></span><a class="headerlink" href="#sky.skylet.ray_patches.worker.Worker.runtime_env" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the runtime env in json format</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.Worker.set_load_code_from_local">
<span class="sig-name descname"><span class="pre">set_load_code_from_local</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">load_code_from_local</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#Worker.set_load_code_from_local"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.Worker.set_load_code_from_local" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.Worker.set_mode">
<span class="sig-name descname"><span class="pre">set_mode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#Worker.set_mode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.Worker.set_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the mode of the worker.</p>
<p>The mode SCRIPT_MODE should be used if this Worker is a driver that is
being run as a Python script or interactively in a shell. It will print
information about task failures.</p>
<p>The mode WORKER_MODE should be used if this Worker is not a driver. It
will not print information about tasks.</p>
<p>The mode LOCAL_MODE should be used if this Worker is a driver and if
you want to run the driver in a manner equivalent to serial Python for
debugging purposes. It will not send remote function calls to the
scheduler and will instead execute them in a blocking fashion.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mode</strong> – One of SCRIPT_MODE, WORKER_MODE, and LOCAL_MODE.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.Worker.should_capture_child_tasks_in_placement_group">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">should_capture_child_tasks_in_placement_group</span></span><a class="headerlink" href="#sky.skylet.ray_patches.worker.Worker.should_capture_child_tasks_in_placement_group" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.Worker.worker_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">worker_id</span></span><a class="headerlink" href="#sky.skylet.ray_patches.worker.Worker.worker_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.cancel">
<span class="sig-prename descclassname"><span class="pre">sky.skylet.ray_patches.worker.</span></span><span class="sig-name descname"><span class="pre">cancel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_ref</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#cancel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.cancel" title="Permalink to this definition">¶</a></dt>
<dd><p>Cancels a task according to the following conditions.</p>
<p>If the specified task is pending execution, it will not be executed. If
the task is currently executing, the behavior depends on the <code class="docutils literal notranslate"><span class="pre">force</span></code>
flag. When <code class="docutils literal notranslate"><span class="pre">force=False</span></code>, a KeyboardInterrupt will be raised in Python
and when <code class="docutils literal notranslate"><span class="pre">force=True</span></code>, the executing task will immediately exit.
If the task is already finished, nothing will happen.</p>
<p>Only non-actor tasks can be canceled. Canceled tasks will not be
retried (max_retries will not be respected).</p>
<p>Calling ray.get on a canceled task will raise a TaskCancelledError or a
WorkerCrashedError if <code class="docutils literal notranslate"><span class="pre">force=True</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_ref</strong> (<em>ObjectRef</em>) – ObjectRef returned by the task
that should be canceled.</p></li>
<li><p><strong>force</strong> (<em>boolean</em>) – Whether to force-kill a running task by killing
the worker that is running the task.</p></li>
<li><p><strong>recursive</strong> (<em>boolean</em>) – Whether to try to cancel tasks submitted by the
task specified.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.10)"><strong>TypeError</strong></a> – This is also raised for actor tasks.</p>
</dd>
</dl>
<p>PublicAPI: This API is stable across Ray releases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_ref</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">ObjectRef</span></code>) – </p></li>
<li><p><strong>force</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – </p></li>
<li><p><strong>recursive</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.connect">
<span class="sig-prename descclassname"><span class="pre">sky.skylet.ray_patches.worker.</span></span><span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_to_driver=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">worker=&lt;sky.skylet.ray_patches.worker.Worker</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">driver_object_store_memory=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">job_id=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">namespace=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">job_config=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">runtime_env_hash=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">worker_shim_pid=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startup_token=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ray_debugger_external=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#connect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect this worker to the raylet, to Plasma, and to Redis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> (<em>ray.node.Node</em>) – The node to connect.</p></li>
<li><p><strong>mode</strong> – The mode of the worker. One of SCRIPT_MODE, WORKER_MODE, and
LOCAL_MODE.</p></li>
<li><p><strong>log_to_driver</strong> (<em>bool</em>) – If true, then output from all of the worker
processes on all nodes will be directed to the driver.</p></li>
<li><p><strong>worker</strong> – The ray.Worker instance.</p></li>
<li><p><strong>driver_object_store_memory</strong> – Deprecated.</p></li>
<li><p><strong>job_id</strong> – The ID of job. If it’s None, then we will generate one.</p></li>
<li><p><strong>job_config</strong> (<em>ray.job_config.JobConfig</em>) – The job configuration.</p></li>
<li><p><strong>runtime_env_hash</strong> (<em>int</em>) – The hash of the runtime env for this worker.</p></li>
<li><p><strong>worker_shim_pid</strong> (<em>int</em>) – The PID of the process for setup worker
runtime env.</p></li>
<li><p><strong>startup_token</strong> (<em>int</em>) – The startup token of the process assigned to
it during startup as a command line argument.</p></li>
<li><p><strong>ray_debugger_host</strong> (<em>bool</em>) – The host to bind a Ray debugger to on
this worker.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.custom_excepthook">
<span class="sig-prename descclassname"><span class="pre">sky.skylet.ray_patches.worker.</span></span><span class="sig-name descname"><span class="pre">custom_excepthook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tb</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#custom_excepthook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.custom_excepthook" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.disconnect">
<span class="sig-prename descclassname"><span class="pre">sky.skylet.ray_patches.worker.</span></span><span class="sig-name descname"><span class="pre">disconnect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exiting_interpreter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#disconnect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.disconnect" title="Permalink to this definition">¶</a></dt>
<dd><p>Disconnect this worker from the raylet and object store.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.filter_autoscaler_events">
<span class="sig-prename descclassname"><span class="pre">sky.skylet.ray_patches.worker.</span></span><span class="sig-name descname"><span class="pre">filter_autoscaler_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lines</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#filter_autoscaler_events"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.filter_autoscaler_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Given raw log lines from the monitor, return only autoscaler events.</p>
<p>Autoscaler events are denoted by the “:event_summary:” magic token.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>lines</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterator" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Iterator</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.get">
<span class="sig-prename descclassname"><span class="pre">sky.skylet.ray_patches.worker.</span></span><span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_refs</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a remote object or a list of remote objects from the object store.</p>
<p>This method blocks until the object corresponding to the object ref is
available in the local object store. If this object is not in the local
object store, it will be shipped from an object store that has it (once the
object has been created). If object_refs is a list, then the objects
corresponding to each object in the list will be returned.</p>
<p>Ordering for an input list of object refs is preserved for each object
returned. That is, if an object ref to A precedes an object ref to B in the
input list, then A will precede B in the returned list.</p>
<p>This method will issue a warning if it’s running inside async context,
you can use <code class="docutils literal notranslate"><span class="pre">await</span> <span class="pre">object_ref</span></code> instead of <code class="docutils literal notranslate"><span class="pre">ray.get(object_ref)</span></code>. For
a list of object refs, you can use <code class="docutils literal notranslate"><span class="pre">await</span> <span class="pre">asyncio.gather(*object_refs)</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_refs</strong> – Object ref of the object to get or a list of object refs
to get.</p></li>
<li><p><strong>timeout</strong> (<em>Optional[float]</em>) – The maximum amount of time in seconds to
wait before returning.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>]]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A Python object or a list of Python objects.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>GetTimeoutError</strong> – A GetTimeoutError is raised if a timeout is set and
    the get takes longer than timeout to return.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><strong>Exception</strong></a> – An exception is raised if the task that created the object
    or that created one of the objects raised an exception.</p></li>
</ul>
</dd>
</dl>
<p>PublicAPI: This API is stable across Ray releases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_refs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ObjectRef</span></code>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ObjectRef</span></code>]]) – </p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.get_actor">
<span class="sig-prename descclassname"><span class="pre">sky.skylet.ray_patches.worker.</span></span><span class="sig-name descname"><span class="pre">get_actor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">namespace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#get_actor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.get_actor" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a handle to a named actor.</p>
<p>Gets a handle to an actor with the given name. The actor must
have been created with Actor.options(name=”name”).remote(). This
works for both detached &amp; non-detached actors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – The name of the actor.</p></li>
<li><p><strong>namespace</strong> – The namespace of the actor, or None to specify the current
namespace.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">ActorHandle</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>ActorHandle to the actor.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError if the named actor does not exist.</strong> – </p>
</dd>
</dl>
<p>PublicAPI: This API is stable across Ray releases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – </p></li>
<li><p><strong>namespace</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.get_dashboard_url">
<span class="sig-prename descclassname"><span class="pre">sky.skylet.ray_patches.worker.</span></span><span class="sig-name descname"><span class="pre">get_dashboard_url</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#get_dashboard_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.get_dashboard_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the URL to access the Ray dashboard.</p>
<p>Note that the URL does not specify which node the dashboard is on.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The URL of the dashboard as a string.</p>
</dd>
</dl>
<p>DEPRECATED: This API is deprecated and may be removed in future Ray releases.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.get_gpu_ids">
<span class="sig-prename descclassname"><span class="pre">sky.skylet.ray_patches.worker.</span></span><span class="sig-name descname"><span class="pre">get_gpu_ids</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#get_gpu_ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.get_gpu_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the IDs of the GPUs that are available to the worker.</p>
<p>If the CUDA_VISIBLE_DEVICES environment variable was set when the worker
started up, then the IDs returned by this method will be a subset of the
IDs in CUDA_VISIBLE_DEVICES. If not, the IDs will fall in the range
[0, NUM_GPUS - 1], where NUM_GPUS is the number of GPUs that the node has.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of GPU IDs.</p>
</dd>
</dl>
<p>PublicAPI: This API is stable across Ray releases.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.get_resource_ids">
<span class="sig-prename descclassname"><span class="pre">sky.skylet.ray_patches.worker.</span></span><span class="sig-name descname"><span class="pre">get_resource_ids</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#get_resource_ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.get_resource_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the IDs of the resources that are available to the worker.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dictionary mapping the name of a resource to a list of pairs, where
each pair consists of the ID of a resource and the fraction of that
resource reserved for this worker.</p>
</dd>
</dl>
<p>DEPRECATED: This API is deprecated and may be removed in future Ray releases.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.global_worker">
<span class="sig-prename descclassname"><span class="pre">sky.skylet.ray_patches.worker.</span></span><span class="sig-name descname"><span class="pre">global_worker</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;sky.skylet.ray_patches.worker.Worker</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#sky.skylet.ray_patches.worker.global_worker" title="Permalink to this definition">¶</a></dt>
<dd><p>The global Worker object for this worker process.</p>
<p>We use a global Worker object to ensure that there is a single worker object
per worker process.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#sky.skylet.ray_patches.worker.Worker" title="sky.skylet.ray_patches.worker.Worker">Worker</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.init">
<span class="sig-prename descclassname"><span class="pre">sky.skylet.ray_patches.worker.</span></span><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">address</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_cpus</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_gpus</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resources</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">object_store_memory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_reinit_error</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_dashboard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dashboard_host</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'127.0.0.1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dashboard_port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">job_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">configure_logging</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logging_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'info'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logging_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'%(asctime)s\\t%(levelname)s</span> <span class="pre">%(filename)s:%(lineno)s</span> <span class="pre">--</span> <span class="pre">%(message)s'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_to_driver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">namespace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">runtime_env</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_enable_object_reconstruction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_redis_max_memory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_plasma_directory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_node_ip_address</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'127.0.0.1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_driver_object_store_memory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_memory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_redis_password</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'5241590000000000'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_temp_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_metrics_export_port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_system_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_tracing_startup_hook</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#init"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.init" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect to an existing Ray cluster or start one and connect to it.</p>
<p>This method handles two cases; either a Ray cluster already exists and we
just attach this driver to it or we start all of the processes associated
with a Ray cluster and attach to the newly started cluster.</p>
<p>To start Ray locally and all of the relevant processes, use this as
follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ray</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
</pre></div>
</div>
<p>To connect to an existing local cluster, use this as follows.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ray</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">address</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>To connect to an existing remote cluster, use this as follows (substituting
in the appropriate address). Note the addition of “ray://” at the beginning
of the address.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ray</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">address</span><span class="o">=</span><span class="s2">&quot;ray://123.45.67.89:10001&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>More details for starting and connecting to a remote cluster can be found
here: <a class="reference external" href="https://docs.ray.io/en/master/cluster/ray-client.html">https://docs.ray.io/en/master/cluster/ray-client.html</a></p>
<p>You can also define an environment variable called <cite>RAY_ADDRESS</cite> in
the same format as the <cite>address</cite> parameter to connect to an existing
cluster with ray.init() or ray.init(address=”auto”).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>address</strong> (<em>str</em>) – The address of the Ray cluster to connect to. If
this address is not provided, then this command will start Redis,
a raylet, a plasma store, a plasma manager, and some workers.
It will also kill these processes when Python exits. If the driver
is running on a node in a Ray cluster, using <cite>auto</cite> as the value
tells the driver to detect the cluster, removing the need to
specify a specific node address. If the environment variable
<cite>RAY_ADDRESS</cite> is defined and the address is None or “auto”, Ray
will set <cite>address</cite> to <cite>RAY_ADDRESS</cite>.
Addresses can be prefixed with a “ray://” to connect to a remote
cluster. For example, passing in the address
“ray://123.45.67.89:50005” will connect to the cluster at the
given address.</p></li>
<li><p><strong>num_cpus</strong> (<em>int</em>) – Number of CPUs the user wishes to assign to each
raylet. By default, this is set based on virtual cores.</p></li>
<li><p><strong>num_gpus</strong> (<em>int</em>) – Number of GPUs the user wishes to assign to each
raylet. By default, this is set based on detected GPUs.</p></li>
<li><p><strong>resources</strong> – A dictionary mapping the names of custom resources to the
quantities for them available.</p></li>
<li><p><strong>object_store_memory</strong> – The amount of memory (in bytes) to start the
object store with. By default, this is automatically set based on
available system memory.</p></li>
<li><p><strong>local_mode</strong> (<em>bool</em>) – If true, the code will be executed serially. This
is useful for debugging.</p></li>
<li><p><strong>ignore_reinit_error</strong> – If true, Ray suppresses errors from calling
ray.init() a second time. Ray won’t be restarted.</p></li>
<li><p><strong>include_dashboard</strong> – Boolean flag indicating whether or not to start the
Ray dashboard, which displays the status of the Ray
cluster. If this argument is None, then the UI will be started if
the relevant dependencies are present.</p></li>
<li><p><strong>dashboard_host</strong> – The host to bind the dashboard server to. Can either be
localhost (127.0.0.1) or 0.0.0.0 (available from all interfaces).
By default, this is set to localhost to prevent access from
external machines.</p></li>
<li><p><strong>dashboard_port</strong> (<em>int, None</em>) – The port to bind the dashboard server to.
Defaults to 8265 and Ray will automatically find a free port if
8265 is not available.</p></li>
<li><p><strong>job_config</strong> (<em>ray.job_config.JobConfig</em>) – The job configuration.</p></li>
<li><p><strong>configure_logging</strong> – True (default) if configuration of logging is
allowed here. Otherwise, the user may want to configure it
separately.</p></li>
<li><p><strong>logging_level</strong> – Logging level, defaults to logging.INFO. Ignored unless
“configure_logging” is true.</p></li>
<li><p><strong>logging_format</strong> – Logging format, defaults to string containing a
timestamp, filename, line number, and message. See the source file
ray_constants.py for details. Ignored unless “configure_logging”
is true.</p></li>
<li><p><strong>log_to_driver</strong> (<em>bool</em>) – If true, the output from all of the worker
processes on all nodes will be directed to the driver.</p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace to use</p></li>
<li><p><strong>runtime_env</strong> (<em>dict</em>) – The runtime environment to use for this job (see
<span class="xref std std-ref">runtime-environments</span> for details).  This API is in beta
and may change before becoming stable.</p></li>
<li><p><strong>_enable_object_reconstruction</strong> (<em>bool</em>) – If True, when an object stored in
the distributed plasma store is lost due to node failure, Ray will
attempt to reconstruct the object by re-executing the task that
created the object. Arguments to the task will be recursively
reconstructed. If False, then ray.ObjectLostError will be
thrown.</p></li>
<li><p><strong>_redis_max_memory</strong> – Redis max memory.</p></li>
<li><p><strong>_plasma_directory</strong> – Override the plasma mmap file directory.</p></li>
<li><p><strong>_node_ip_address</strong> (<em>str</em>) – The IP address of the node that we are on.</p></li>
<li><p><strong>_driver_object_store_memory</strong> (<em>int</em>) – Deprecated.</p></li>
<li><p><strong>_memory</strong> – Amount of reservable memory resource to create.</p></li>
<li><p><strong>_redis_password</strong> (<em>str</em>) – Prevents external clients without the password
from connecting to Redis if provided.</p></li>
<li><p><strong>_temp_dir</strong> (<em>str</em>) – If provided, specifies the root temporary
directory for the Ray process. Defaults to an OS-specific
conventional location, e.g., “/tmp/ray”.</p></li>
<li><p><strong>_metrics_export_port</strong> (<em>int</em>) – Port number Ray exposes system metrics
through a Prometheus endpoint. It is currently under active
development, and the API is subject to change.</p></li>
<li><p><strong>_system_config</strong> (<em>dict</em>) – Configuration for overriding
RayConfig defaults. For testing purposes ONLY.</p></li>
<li><p><strong>_tracing_startup_hook</strong> (<em>str</em>) – If provided, turns on and sets up tracing
for Ray. Must be the name of a function that takes no arguments and
sets up a Tracer Provider, Remote Span Processors, and
(optional) additional instruments. See more at
docs.ray.io/tracing.html. It is currently under active development,
and the API is subject to change.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If the provided address includes a protocol, for example by prepending
“ray://” to the address to get “ray://1.2.3.4:10001”, then a
ClientContext is returned with information such as settings, server
versions for ray and python, and the dashboard_url. Otherwise,
returns address information about the started processes.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><strong>Exception</strong></a> – An exception is raised if an inappropriate combination of
    arguments is passed in.</p>
</dd>
</dl>
<p>PublicAPI: This API is stable across Ray releases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>address</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]) – </p></li>
<li><p><strong>num_cpus</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>]) – </p></li>
<li><p><strong>num_gpus</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>]) – </p></li>
<li><p><strong>resources</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]]) – </p></li>
<li><p><strong>object_store_memory</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>]) – </p></li>
<li><p><strong>local_mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – </p></li>
<li><p><strong>ignore_reinit_error</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – </p></li>
<li><p><strong>include_dashboard</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>]) – </p></li>
<li><p><strong>dashboard_host</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – </p></li>
<li><p><strong>dashboard_port</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>]) – </p></li>
<li><p><strong>job_config</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">JobConfig</span></code>]) – </p></li>
<li><p><strong>configure_logging</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – </p></li>
<li><p><strong>logging_level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – </p></li>
<li><p><strong>logging_format</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – </p></li>
<li><p><strong>log_to_driver</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – </p></li>
<li><p><strong>namespace</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]) – </p></li>
<li><p><strong>runtime_env</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>]]) – </p></li>
<li><p><strong>_enable_object_reconstruction</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – </p></li>
<li><p><strong>_redis_max_memory</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>]) – </p></li>
<li><p><strong>_plasma_directory</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]) – </p></li>
<li><p><strong>_node_ip_address</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – </p></li>
<li><p><strong>_driver_object_store_memory</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>]) – </p></li>
<li><p><strong>_memory</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>]) – </p></li>
<li><p><strong>_redis_password</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – </p></li>
<li><p><strong>_temp_dir</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]) – </p></li>
<li><p><strong>_metrics_export_port</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>]) – </p></li>
<li><p><strong>_system_config</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]]) – </p></li>
<li><p><strong>_tracing_startup_hook</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code></a>]) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.is_initialized">
<span class="sig-prename descclassname"><span class="pre">sky.skylet.ray_patches.worker.</span></span><span class="sig-name descname"><span class="pre">is_initialized</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#is_initialized"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.is_initialized" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if ray.init has been called yet.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if ray.init has already been called and false otherwise.</p>
</dd>
</dl>
<p>PublicAPI: This API is stable across Ray releases.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.kill">
<span class="sig-prename descclassname"><span class="pre">sky.skylet.ray_patches.worker.</span></span><span class="sig-name descname"><span class="pre">kill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actor</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_restart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#kill"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.kill" title="Permalink to this definition">¶</a></dt>
<dd><p>Kill an actor forcefully.</p>
<p>This will interrupt any running tasks on the actor, causing them to fail
immediately. <code class="docutils literal notranslate"><span class="pre">atexit</span></code> handlers installed in the actor will not be run.</p>
<p>If you want to kill the actor but let pending tasks finish,
you can call <code class="docutils literal notranslate"><span class="pre">actor.__ray_terminate__.remote()</span></code> instead to queue a
termination task. Any <code class="docutils literal notranslate"><span class="pre">atexit</span></code> handlers installed in the actor <em>will</em>
be run in this case.</p>
<p>If the actor is a detached actor, subsequent calls to get its handle via
ray.get_actor will fail.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actor</strong> (<em>ActorHandle</em>) – Handle to the actor to kill.</p></li>
<li><p><strong>no_restart</strong> (<em>bool</em>) – Whether or not this actor should be restarted if
it’s a restartable actor.</p></li>
</ul>
</dd>
</dl>
<p>PublicAPI: This API is stable across Ray releases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actor</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">ActorHandle</span></code>) – </p></li>
<li><p><strong>no_restart</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.listen_error_messages_from_gcs">
<span class="sig-prename descclassname"><span class="pre">sky.skylet.ray_patches.worker.</span></span><span class="sig-name descname"><span class="pre">listen_error_messages_from_gcs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worker</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threads_stopped</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#listen_error_messages_from_gcs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.listen_error_messages_from_gcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Listen to error messages in the background on the driver.</p>
<p>This runs in a separate thread on the driver and pushes (error, time)
tuples to be published.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>worker</strong> – The worker class that this thread belongs to.</p></li>
<li><p><strong>threads_stopped</strong> (<em>threading.Event</em>) – A threading event used to signal to
the thread that it should exit.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.listen_error_messages_raylet">
<span class="sig-prename descclassname"><span class="pre">sky.skylet.ray_patches.worker.</span></span><span class="sig-name descname"><span class="pre">listen_error_messages_raylet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worker</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threads_stopped</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#listen_error_messages_raylet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.listen_error_messages_raylet" title="Permalink to this definition">¶</a></dt>
<dd><p>Listen to error messages in the background on the driver.</p>
<p>This runs in a separate thread on the driver and pushes (error, time)
tuples to the output queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>worker</strong> – The worker class that this thread belongs to.</p></li>
<li><p><strong>threads_stopped</strong> (<em>threading.Event</em>) – A threading event used to signal to
the thread that it should exit.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.make_decorator">
<span class="sig-prename descclassname"><span class="pre">sky.skylet.ray_patches.worker.</span></span><span class="sig-name descname"><span class="pre">make_decorator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_returns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_cpus</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_gpus</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">object_store_memory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resources</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accelerator_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_calls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_retries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_restarts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_task_retries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">runtime_env</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">placement_group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">worker</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retry_exceptions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">concurrency_groups</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#make_decorator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.make_decorator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.print_to_stdstream">
<span class="sig-prename descclassname"><span class="pre">sky.skylet.ray_patches.worker.</span></span><span class="sig-name descname"><span class="pre">print_to_stdstream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#print_to_stdstream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.print_to_stdstream" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.print_worker_logs">
<span class="sig-prename descclassname"><span class="pre">sky.skylet.ray_patches.worker.</span></span><span class="sig-name descname"><span class="pre">print_worker_logs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#print_worker_logs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.print_worker_logs" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]) – </p></li>
<li><p><strong>print_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.put">
<span class="sig-prename descclassname"><span class="pre">sky.skylet.ray_patches.worker.</span></span><span class="sig-name descname"><span class="pre">put</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_owner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#put"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.put" title="Permalink to this definition">¶</a></dt>
<dd><p>Store an object in the object store.</p>
<p>The object may not be evicted while a reference to the returned ID exists.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> – The Python object to be stored.</p></li>
<li><p><strong>_owner</strong> – The actor that should own this object. This allows creating
objects with lifetimes decoupled from that of the creating process.
Note that the owner actor must be passed a reference to the object
prior to the object creator exiting, otherwise the reference will
still be lost.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">ObjectRef</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The object ref assigned to this value.</p>
</dd>
</dl>
<p>PublicAPI: This API is stable across Ray releases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>) – </p></li>
<li><p><strong>_owner</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ActorHandle</span></code>]) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.remote">
<span class="sig-prename descclassname"><span class="pre">sky.skylet.ray_patches.worker.</span></span><span class="sig-name descname"><span class="pre">remote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#remote"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.remote" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines a remote function or an actor class.</p>
<p>This can be used with no arguments to define a remote function or actor as
follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@ray</span><span class="o">.</span><span class="n">remote</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">():</span>
    <span class="k">return</span> <span class="mi">1</span>

<span class="nd">@ray</span><span class="o">.</span><span class="n">remote</span>
<span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">1</span>
</pre></div>
</div>
<p>It can also be used with specific keyword arguments as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@ray</span><span class="o">.</span><span class="n">remote</span><span class="p">(</span><span class="n">num_gpus</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_calls</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">num_returns</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">():</span>
    <span class="k">return</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>

<span class="nd">@ray</span><span class="o">.</span><span class="n">remote</span><span class="p">(</span><span class="n">num_cpus</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">resources</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;CustomResource&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
<span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">1</span>
</pre></div>
</div>
<p>Remote task and actor objects returned by &#64;ray.remote can also be
dynamically modified with the same arguments as above using
<code class="docutils literal notranslate"><span class="pre">.options()</span></code> as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@ray</span><span class="o">.</span><span class="n">remote</span><span class="p">(</span><span class="n">num_gpus</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_calls</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">num_returns</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">():</span>
    <span class="k">return</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="n">num_gpus</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="nd">@ray</span><span class="o">.</span><span class="n">remote</span><span class="p">(</span><span class="n">num_cpus</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">resources</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;CustomResource&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
<span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">1</span>
<span class="n">Bar</span> <span class="o">=</span> <span class="n">Foo</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="n">num_cpus</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">resources</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>Running remote actors will be terminated when the actor handle to them
in Python is deleted, which will cause them to complete any outstanding
work and then shut down. If you want to kill them immediately, you can
also call <code class="docutils literal notranslate"><span class="pre">ray.kill(actor)</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_returns</strong> (<em>int</em>) – This is only for <em>remote functions</em>. It specifies
the number of object refs returned by
the remote function invocation.</p></li>
<li><p><strong>num_cpus</strong> (<em>float</em>) – The quantity of CPU cores to reserve
for this task or for the lifetime of the actor.</p></li>
<li><p><strong>num_gpus</strong> (<em>int</em>) – The quantity of GPUs to reserve
for this task or for the lifetime of the actor.</p></li>
<li><p><strong>resources</strong> (<em>Dict[str, float]</em>) – The quantity of various custom resources
to reserve for this task or for the lifetime of the actor.
This is a dictionary mapping strings (resource names) to floats.</p></li>
<li><p><strong>accelerator_type</strong> – If specified, requires that the task or actor run
on a node with the specified type of accelerator.
See <cite>ray.accelerators</cite> for accelerator types.</p></li>
<li><p><strong>max_calls</strong> (<em>int</em>) – Only for <em>remote functions</em>. This specifies the
maximum number of times that a given worker can execute
the given remote function before it must exit
(this can be used to address memory leaks in third-party
libraries or to reclaim resources that cannot easily be
released, e.g., GPU memory that was acquired by TensorFlow).
By default this is infinite.</p></li>
<li><p><strong>max_restarts</strong> (<em>int</em>) – Only for <em>actors</em>. This specifies the maximum
number of times that the actor should be restarted when it dies
unexpectedly. The minimum valid value is 0 (default),
which indicates that the actor doesn’t need to be restarted.
A value of -1 indicates that an actor should be restarted
indefinitely.</p></li>
<li><p><strong>max_task_retries</strong> (<em>int</em>) – Only for <em>actors</em>. How many times to
retry an actor task if the task fails due to a system error,
e.g., the actor has died. If set to -1, the system will
retry the failed task until the task succeeds, or the actor
has reached its max_restarts limit. If set to <cite>n &gt; 0</cite>, the
system will retry the failed task up to n times, after which the
task will throw a <cite>RayActorError</cite> exception upon <code class="xref py py-obj docutils literal notranslate"><span class="pre">ray.get</span></code>.
Note that Python exceptions are not considered system errors
and will not trigger retries.</p></li>
<li><p><strong>max_retries</strong> (<em>int</em>) – Only for <em>remote functions</em>. This specifies
the maximum number of times that the remote function
should be rerun when the worker process executing it
crashes unexpectedly. The minimum valid value is 0,
the default is 4 (default), and a value of -1 indicates
infinite retries.</p></li>
<li><p><strong>runtime_env</strong> (<em>Dict[str, Any]</em>) – Specifies the runtime environment for
this actor or task and its children. See
<span class="xref std std-ref">runtime-environments</span> for detailed documentation. This API is
in beta and may change before becoming stable.</p></li>
<li><p><strong>retry_exceptions</strong> (<em>bool</em>) – Only for <em>remote functions</em>. This specifies
whether application-level errors should be retried
up to max_retries times.</p></li>
</ul>
</dd>
</dl>
<p>PublicAPI: This API is stable across Ray releases.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.show_in_dashboard">
<span class="sig-prename descclassname"><span class="pre">sky.skylet.ray_patches.worker.</span></span><span class="sig-name descname"><span class="pre">show_in_dashboard</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'text'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#show_in_dashboard"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.show_in_dashboard" title="Permalink to this definition">¶</a></dt>
<dd><p>Display message in dashboard.</p>
<p>Display message for the current task or actor in the dashboard.
For example, this can be used to display the status of a long-running
computation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>message</strong> (<em>str</em>) – Message to be displayed.</p></li>
<li><p><strong>key</strong> (<em>str</em>) – The key name for the message. Multiple message under
different keys will be displayed at the same time. Messages
under the same key will be overridden.</p></li>
<li><p><strong>data_type</strong> (<em>str</em>) – The type of message for rendering. One of the
following: text, html.</p></li>
</ul>
</dd>
</dl>
<p>DeveloperAPI: This API may change across minor Ray releases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>message</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – </p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – </p></li>
<li><p><strong>dtype</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.shutdown">
<span class="sig-prename descclassname"><span class="pre">sky.skylet.ray_patches.worker.</span></span><span class="sig-name descname"><span class="pre">shutdown</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_exiting_interpreter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#shutdown"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.shutdown" title="Permalink to this definition">¶</a></dt>
<dd><p>Disconnect the worker, and terminate processes started by ray.init().</p>
<p>This will automatically run at the end when a Python process that uses Ray
exits. It is ok to run this twice in a row. The primary use case for this
function is to cleanup state between tests.</p>
<p>Note that this will clear any remote function definitions, actor
definitions, and existing actors, so if you wish to use any previously
defined remote functions or actors after calling ray.shutdown(), then you
need to redefine them. If they were defined in an imported module, then you
will need to reload the module.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>_exiting_interpreter</strong> (<em>bool</em>) – True if this is called by the atexit hook
and false otherwise. If we are exiting the interpreter, we will
wait a little while to print any extra error messages.</p>
</dd>
</dl>
<p>PublicAPI: This API is stable across Ray releases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>_exiting_interpreter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.sigterm_handler">
<span class="sig-prename descclassname"><span class="pre">sky.skylet.ray_patches.worker.</span></span><span class="sig-name descname"><span class="pre">sigterm_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#sigterm_handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.sigterm_handler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.time_string">
<span class="sig-prename descclassname"><span class="pre">sky.skylet.ray_patches.worker.</span></span><span class="sig-name descname"><span class="pre">time_string</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#time_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.time_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the relative time from the start of this job.</p>
<p>For example, 15m30s.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.worker.wait">
<span class="sig-prename descclassname"><span class="pre">sky.skylet.ray_patches.worker.</span></span><span class="sig-name descname"><span class="pre">wait</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_refs</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_returns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fetch_local</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches/worker.html#wait"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.worker.wait" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of IDs that are ready and a list of IDs that are not.</p>
<p>If timeout is set, the function returns either when the requested number of
IDs are ready or when the timeout is reached, whichever occurs first. If it
is not set, the function simply waits until that number of objects is ready
and returns that exact number of object refs.</p>
<p>This method returns two lists. The first list consists of object refs that
correspond to objects that are available in the object store. The second
list corresponds to the rest of the object refs (which may or may not be
ready).</p>
<p>Ordering of the input list of object refs is preserved. That is, if A
precedes B in the input list, and both are in the ready list, then A will
precede B in the ready list. This also holds true if A and B are both in
the remaining list.</p>
<p>This method will issue a warning if it’s running inside an async context.
Instead of <code class="docutils literal notranslate"><span class="pre">ray.wait(object_refs)</span></code>, you can use
<code class="docutils literal notranslate"><span class="pre">await</span> <span class="pre">asyncio.wait(object_refs)</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_refs</strong> (<em>List[ObjectRef]</em>) – List of object refs for objects that may
or may not be ready. Note that these IDs must be unique.</p></li>
<li><p><strong>num_returns</strong> (<em>int</em>) – The number of object refs that should be returned.</p></li>
<li><p><strong>timeout</strong> (<em>float</em>) – The maximum amount of time in seconds to wait before
returning.</p></li>
<li><p><strong>fetch_local</strong> (<em>bool</em>) – If True, wait for the object to be downloaded onto
the local node before returning it as ready. If False, ray.wait()
will not trigger fetching of objects to the local node and will
return immediately once the object is available anywhere in the
cluster.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ObjectRef</span></code>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ObjectRef</span></code>]]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of object refs that are ready and a list of the remaining object
IDs.</p>
</dd>
</dl>
<p>PublicAPI: This API is stable across Ray releases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_refs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ObjectRef</span></code>]) – </p></li>
<li><p><strong>num_returns</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – </p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]) – </p></li>
<li><p><strong>fetch_local</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-sky.skylet.ray_patches">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-sky.skylet.ray_patches" title="Permalink to this headline">¶</a></h2>
<p>Patch files</p>
<dl class="py function">
<dt class="sig sig-object py" id="sky.skylet.ray_patches.patch">
<span class="sig-prename descclassname"><span class="pre">sky.skylet.ray_patches.</span></span><span class="sig-name descname"><span class="pre">patch</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sky/skylet/ray_patches.html#patch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sky.skylet.ray_patches.patch" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></p>
</dd>
</dl>
</dd></dl>

</div>
</div>


              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By the Sky authors<br/>
    
        &copy; Copyright 2022, Sky Team.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>