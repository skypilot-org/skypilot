resources:
  cloud: gcp
  cpus: 2+
  zone: us-central1-a
  use_spot: True

workdir: sky/serve/examples/http_server

# Use 8080 to test jupyter service is terminated
run: python3 server.py --port 8080

service:
  port: 8080
  readiness_probe:
    path: /health
    initial_delay_seconds: 20
  replicas: 1
  controller_resources:
    cloud: gcp