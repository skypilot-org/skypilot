---
name: k8s-hetero-test
placement: SAME_INFRA
execution: parallel
---
name: compute-heavy
resources:
  cpus: 2+
  memory: 4+
  infra: kubernetes
run: |
  echo "Compute-heavy job on $(hostname)"
  echo "CPU info:"
  cat /proc/cpuinfo | grep processor | wc -l
  sleep 20
  echo "Done"
---
name: memory-heavy
resources:
  cpus: 2
  memory: 8+
  infra: kubernetes
run: |
  echo "Memory-heavy job on $(hostname)"
  echo "Memory info:"
  free -h
  sleep 20
  echo "Done"
---
name: lightweight
resources:
  cpus: 1
  memory: 2+
  infra: kubernetes
run: |
  echo "Lightweight job on $(hostname)"
  sleep 20
  echo "Done"
